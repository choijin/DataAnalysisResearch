<?xml version="1.0" encoding="UTF-8"?>
<rootTag>
<Award>
<AwardTitle>CAREER: Beyond Virtual Hardware: VMM/OS Co-Design for Lightweight, Flexible Virtualization</AwardTitle>
<AGENCY>NSF</AGENCY>
<AwardEffectiveDate>08/23/2016</AwardEffectiveDate>
<AwardExpirationDate>05/31/2017</AwardExpirationDate>
<AwardTotalIntnAmount>51955.00</AwardTotalIntnAmount>
<AwardAmount>51955</AwardAmount>
<AwardInstrument>
<Value>Continuing Grant</Value>
</AwardInstrument>
<Organization>
<Code>05050000</Code>
<Directorate>
<Abbreviation>CSE</Abbreviation>
<LongName>Direct For Computer &amp; Info Scie &amp; Enginr</LongName>
</Directorate>
<Division>
<Abbreviation>CNS</Abbreviation>
<LongName>Division Of Computer and Network Systems</LongName>
</Division>
</Organization>
<ProgramOfficer>
<SignBlockName>Marilyn McClure</SignBlockName>
<PO_EMAI>mmcclure@nsf.gov</PO_EMAI>
<PO_PHON>7032925197</PO_PHON>
</ProgramOfficer>
<AbstractNarration>Virtualization is an increasingly popular strategy for users to run applications designed for one platform on another platform---the holy grail of write once, run anywhere. The caveat for virtualization is that 'anywhere' has to be a powerful system with resources to spare. In a virtual machine, users can bundle an application with all of its operating system dependences in an easily-migrated environment---as long as users are willing to drag along duplicate networking stacks, CPU schedulers, virus scanners, swapping heuristics, and so on. &lt;br/&gt;&lt;br/&gt;This project investigates a radical restructuring of the operating system in order to reduce these redundancies and overheads.&lt;br/&gt;&lt;br/&gt;This project is driven by a vision of the future where each application and system service runs in a dedicated virtual machine; moreover, the operating system is no longer a single piece of software running on bare hardware, but its functionality is decomposed into several independent layers between the virtual machine monitor and the unmodified application. &lt;br/&gt;&lt;br/&gt;This project investigates previously unstudied classes of applications and host services, as well as new system layers for hardware management and storage, with the end goal of making per-application virtual machines practical on mobile devices.  If successful, this research will establish a richer scientific understanding of the trade-offs in computer system design and dramatically improve the efficiency and flexibility of modern computer systems.</AbstractNarration>
<MinAmdLetterDate>10/24/2016</MinAmdLetterDate>
<MaxAmdLetterDate>10/24/2016</MaxAmdLetterDate>
<ARRAAmount/>
<TRAN_TYPE>Grant</TRAN_TYPE>
<CFDA_NUM>47.070</CFDA_NUM>
<NSF_PAR_USE_FLAG>0</NSF_PAR_USE_FLAG>
<FUND_AGCY_CODE>4900</FUND_AGCY_CODE>
<AWDG_AGCY_CODE>4900</AWDG_AGCY_CODE>
<AwardID>1700810</AwardID>
<Investigator>
<FirstName>Donald</FirstName>
<LastName>Porter</LastName>
<PI_MID_INIT>E</PI_MID_INIT>
<PI_SUFX_NAME/>
<PI_FULL_NAME>Donald E Porter</PI_FULL_NAME>
<EmailAddress>porter@cs.unc.edu</EmailAddress>
<PI_PHON>9195906044</PI_PHON>
<NSF_ID>000569931</NSF_ID>
<StartDate>10/24/2016</StartDate>
<EndDate/>
<RoleCode>Principal Investigator</RoleCode>
</Investigator>
<Institution>
<Name>University of North Carolina at Chapel Hill</Name>
<CityName>CHAPEL HILL</CityName>
<ZipCode>275991350</ZipCode>
<PhoneNumber>9199663411</PhoneNumber>
<StreetAddress>104 AIRPORT DR STE 2200</StreetAddress>
<StreetAddress2/>
<CountryName>United States</CountryName>
<StateName>North Carolina</StateName>
<StateCode>NC</StateCode>
<CONGRESSDISTRICT>04</CONGRESSDISTRICT>
<CONGRESS_DISTRICT_ORG>NC04</CONGRESS_DISTRICT_ORG>
<ORG_DUNS_NUM>608195277</ORG_DUNS_NUM>
<ORG_LGL_BUS_NAME>UNIVERSITY OF NORTH CAROLINA AT CHAPEL HILL</ORG_LGL_BUS_NAME>
<ORG_PRNT_DUNS_NUM>142363428</ORG_PRNT_DUNS_NUM>
</Institution>
<Performance_Institution>
<Name><![CDATA[University of North Carolina at Chapel Hill]]></Name>
<CityName/>
<StateCode>NC</StateCode>
<ZipCode>275993175</ZipCode>
<StreetAddress/>
<CountryCode>US</CountryCode>
<CountryName>United States</CountryName>
<StateName>North Carolina</StateName>
<CountryFlag>1</CountryFlag>
<CONGRESSDISTRICT>04</CONGRESSDISTRICT>
<CONGRESS_DISTRICT_PERF>NC04</CONGRESS_DISTRICT_PERF>
</Performance_Institution>
<ProgramElement>
<Code>7354</Code>
<Text>CSR-Computer Systems Research</Text>
</ProgramElement>
<ProgramReference>
<Code>1045</Code>
<Text>CAREER-Faculty Erly Career Dev</Text>
</ProgramReference>
<ProgramReference>
<Code>1187</Code>
<Text>PECASE- eligible</Text>
</ProgramReference>
<Appropriation>
<Code>0116</Code>
<Name>NSF RESEARCH &amp; RELATED ACTIVIT</Name>
<APP_SYMB_ID>040100</APP_SYMB_ID>
</Appropriation>
<FUND_OBLG>2016~51955</FUND_OBLG>
<POR>
<DRECONTENT><![CDATA[<div class="porColContainerWBG"> <div class="porContentCol"><p>Virtualization is the cornerstone of modern computing<br />infrastructure---from cloud computing to mobile devices.&nbsp; A key<br />feature of virtualization is the ability to run code developed for one<br />system on another.&nbsp; The primary downside of classic virtualization is<br />the overheads; for instance, opening an 11KB spreadsheet in a virtual<br />machine (VM) requires hundreds of MB of RAM.&nbsp; In cloud computing,<br />where customers commonly run a single application in a virtual<br />machine, these overheads can harm profitability and energy efficiency,<br />by limiting how many customers can be consolidated onto a single<br />physical machine.<br /><br />This project innovated techniques to reduce these overheads for<br />unmodified application binaries.&nbsp; The flagship effort of this project<br />is the open-source Graphene library operating system (OS)---an OS<br />designed to run a single Linux application inside of a VM.&nbsp; A key<br />insight behind the Graphene design is identifying a<br />functionally-narrow "pinch point" in a typical OS kernel, between the<br />hardware-management functionality and the application-facing code.&nbsp; By<br />pushing most of application-facing code into a dynamically-loaded<br />library, the resulting interface between the application and virtual<br />machine monitor (VMM) can be greatly simplified---easily implemented<br />on a range of platforms.&nbsp; Graphene also contributed techniques for<br />coordinating shared abstractions across multiple library OSes.<br /><br />We note that, since this project was proposed, this work has become<br />even more relevant.&nbsp; Motivated by security, CPU vendors have been<br />introducing secure computation environments, such as Intel SGX.<br />Because of these security constraints, existing code does not work<br />without SGX-specific modifications.&nbsp; Second, cloud providers have been<br />shifting to a "serverless" model (e.g., Amazon Lambda), where<br />individual code snippets can be run more efficiently and at lower cost<br />than a complete virtual machine.&nbsp; Finally, a number of additional<br />engineering constraints are likely to introduce computing hardware<br />that breaks backward compatibility with applications.&nbsp; Thus, it will<br />only be more important in the future to quickly bring-up existing code<br />on new systems, possibly with subsequent modifications to address<br />performance problems or incorporate new features.<br /><br />This project also developed novel courseware to teach virtualization.<br />Despite being a cornerstone of modern computing, the interested<br />student or professional has surprisingly few resources for learning<br />how virtual machines work.&nbsp; We developed a simple virtual<br />machine monitor by adding about 1,000 lines of source code to the MIT<br />JOS pedagogical operating system (a simple OS of about 14,000 lines of<br />code).&nbsp; Students can do guided implementation exercises for<br />hands-on learning of essential concepts, including trap-and-emulate,<br />nested paging, and paravirtualization.&nbsp; This courseware has been used<br />in two dedicated virtualization courses taught by the PI, and in<br />several OS courses at multiple universities.<br /><br />Another contribution of this work is a new technique to optimize an OS<br />cache mapping human-readable names (directories) to in-memory<br />information about files.&nbsp; Our optimized directory caching scheme can<br />improve file access times in Linux by up to 26%, which, in turn, can<br />improve file system heavy workloads such as the Dovecot email server<br />by 12% or the git version control system by 29%.<br /><br />The core intellectual merit of this project is that we have<br />demonstrated the feasibility of the library OS approach to support a<br />wider range of applications than previously known.&nbsp; We have shown that<br />some overheads, such as memory, can be lowered dramatically, whereas<br />others, such as CPU, can be acceptable.&nbsp; Further, we have demonstrated<br />the portability benefits by running unmodified Linux applications on<br />Intel SGX and FreeBSD.&nbsp; We have contributed techniques for efficiently<br />coordinating shared abstractions across multiple library OSes over<br />message passing---a likely useful feature for expected future systems<br />without coherent shared memory.&nbsp; We have also contributed a new metric<br />and principles for measuring compatibility---an idea that has not been<br />formally defined and is typically treated as a binary, despite the<br />fact that many systems offer incomplete compatibility with<br />applications developed for other systems, or prior versions of the<br />same system.&nbsp; Finally, Graphene has proved useful to enable additional<br />research; several external research groups are extending, benchmarking<br />against, and contributing to the Graphene open source project.<br /><br />The broader impacts of this work are ongoing, as computer system<br />design has increasingly become a moving target.&nbsp; This project has<br />contributed a number of techniques to improve the efficiency of<br />current and future computing systems without foregoing the ability to<br />run existing applications.&nbsp; Inasmuch as these techniques can make<br />computing more efficient and less expensive, these developments will<br />unlock future discoveries and economic growth.&nbsp; The project has<br />trained a number of students in key virtualization technologies,<br />secure hardware, and operating system development, and made<br />educational materials available to many more.&nbsp; Several students<br />involved in the project are now employed by relevant technology<br />companies or will shortly begin faculty positions in computer science.<br /><br /></p><br> <p>            Last Modified: 06/25/2017<br>      Modified by: Donald&nbsp;E&nbsp;Porter</p> </div> <div class="porSideCol"></div> </div>]]></DRECONTENT>
<POR_COPY_TXT><![CDATA[ Virtualization is the cornerstone of modern computing infrastructure---from cloud computing to mobile devices.  A key feature of virtualization is the ability to run code developed for one system on another.  The primary downside of classic virtualization is the overheads; for instance, opening an 11KB spreadsheet in a virtual machine (VM) requires hundreds of MB of RAM.  In cloud computing, where customers commonly run a single application in a virtual machine, these overheads can harm profitability and energy efficiency, by limiting how many customers can be consolidated onto a single physical machine.  This project innovated techniques to reduce these overheads for unmodified application binaries.  The flagship effort of this project is the open-source Graphene library operating system (OS)---an OS designed to run a single Linux application inside of a VM.  A key insight behind the Graphene design is identifying a functionally-narrow "pinch point" in a typical OS kernel, between the hardware-management functionality and the application-facing code.  By pushing most of application-facing code into a dynamically-loaded library, the resulting interface between the application and virtual machine monitor (VMM) can be greatly simplified---easily implemented on a range of platforms.  Graphene also contributed techniques for coordinating shared abstractions across multiple library OSes.  We note that, since this project was proposed, this work has become even more relevant.  Motivated by security, CPU vendors have been introducing secure computation environments, such as Intel SGX. Because of these security constraints, existing code does not work without SGX-specific modifications.  Second, cloud providers have been shifting to a "serverless" model (e.g., Amazon Lambda), where individual code snippets can be run more efficiently and at lower cost than a complete virtual machine.  Finally, a number of additional engineering constraints are likely to introduce computing hardware that breaks backward compatibility with applications.  Thus, it will only be more important in the future to quickly bring-up existing code on new systems, possibly with subsequent modifications to address performance problems or incorporate new features.  This project also developed novel courseware to teach virtualization. Despite being a cornerstone of modern computing, the interested student or professional has surprisingly few resources for learning how virtual machines work.  We developed a simple virtual machine monitor by adding about 1,000 lines of source code to the MIT JOS pedagogical operating system (a simple OS of about 14,000 lines of code).  Students can do guided implementation exercises for hands-on learning of essential concepts, including trap-and-emulate, nested paging, and paravirtualization.  This courseware has been used in two dedicated virtualization courses taught by the PI, and in several OS courses at multiple universities.  Another contribution of this work is a new technique to optimize an OS cache mapping human-readable names (directories) to in-memory information about files.  Our optimized directory caching scheme can improve file access times in Linux by up to 26%, which, in turn, can improve file system heavy workloads such as the Dovecot email server by 12% or the git version control system by 29%.  The core intellectual merit of this project is that we have demonstrated the feasibility of the library OS approach to support a wider range of applications than previously known.  We have shown that some overheads, such as memory, can be lowered dramatically, whereas others, such as CPU, can be acceptable.  Further, we have demonstrated the portability benefits by running unmodified Linux applications on Intel SGX and FreeBSD.  We have contributed techniques for efficiently coordinating shared abstractions across multiple library OSes over message passing---a likely useful feature for expected future systems without coherent shared memory.  We have also contributed a new metric and principles for measuring compatibility---an idea that has not been formally defined and is typically treated as a binary, despite the fact that many systems offer incomplete compatibility with applications developed for other systems, or prior versions of the same system.  Finally, Graphene has proved useful to enable additional research; several external research groups are extending, benchmarking against, and contributing to the Graphene open source project.  The broader impacts of this work are ongoing, as computer system design has increasingly become a moving target.  This project has contributed a number of techniques to improve the efficiency of current and future computing systems without foregoing the ability to run existing applications.  Inasmuch as these techniques can make computing more efficient and less expensive, these developments will unlock future discoveries and economic growth.  The project has trained a number of students in key virtualization technologies, secure hardware, and operating system development, and made educational materials available to many more.  Several students involved in the project are now employed by relevant technology companies or will shortly begin faculty positions in computer science.         Last Modified: 06/25/2017       Submitted by: Donald E Porter]]></POR_COPY_TXT>
</POR>
</Award>
</rootTag>
