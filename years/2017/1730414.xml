<?xml version="1.0" encoding="UTF-8"?>
<rootTag>
<Award>
<AwardTitle>CI-SUSTAIN: Stan for the Long Run</AwardTitle>
<AGENCY>NSF</AGENCY>
<AwardEffectiveDate>08/01/2017</AwardEffectiveDate>
<AwardExpirationDate>07/31/2020</AwardExpirationDate>
<AwardTotalIntnAmount>983932.00</AwardTotalIntnAmount>
<AwardAmount>983932</AwardAmount>
<AwardInstrument>
<Value>Standard Grant</Value>
</AwardInstrument>
<Organization>
<Code>05050000</Code>
<Directorate>
<Abbreviation>CSE</Abbreviation>
<LongName>Direct For Computer &amp; Info Scie &amp; Enginr</LongName>
</Directorate>
<Division>
<Abbreviation>CNS</Abbreviation>
<LongName>Division Of Computer and Network Systems</LongName>
</Division>
</Organization>
<ProgramOfficer>
<SignBlockName>Wendy Nilsen</SignBlockName>
<PO_EMAI>wnilsen@nsf.gov</PO_EMAI>
<PO_PHON>7032922568</PO_PHON>
</ProgramOfficer>
<AbstractNarration>Stan is a software package that transforms scientific discovery by allowing scientists to quickly and easily explore, evaluate, and refine rich scientific hypotheses tailored to their particular research question and data collection mechanism. For computational reasons, analyses of data (big or otherwise) have tended to be simple and focused more on the difficulties of manipulating the data than on realistic scientific models. The next generation of Bayesian inference can take scientists beyond this impasse, via sophisticated models that can adjust for differences between sample and population, and between treatment and control groups, to join the benefits of large datasets with the rigor and power of statistical adjustment. Stan further helps educate the next generation of data scientists, with a natural, easy-to-learn and portable modeling language, coupled with robust, practical inference tools. The specific goal of this project is to solidify the Stan code base to enable application, maintenance, and development of the Stan software. Stan is being applied in many corners of the physical, biological, and social sciences, hundreds of at scales ranging from the neutrinos to supernovas, from cellular biology to population ecology, and from human reaction times to social network evolution. In this project the PI aims to document and ruggedize the core infrastructure of Stan to enable it to be used by a wider audience of scientists, to be maintained by a wider group of software developers, and to be extensible to allow for the future development of new scientific applications and statistical algorithms.&lt;br/&gt;&lt;br/&gt;Technically, this project is devoted to thoroughly documenting for users and developers, testing at the unit, integration, and functional levels, and inevitably refactoring the application programming interfaces (API) of Stan's components. These components include (1) an automatically differentiable mathematics, statistics, and matrix algebra library, (2) an imperative probabilistic programming language for expressing statistical data/parameter structures and scientific/measurement models, (3) core inference algorithms for providing exact and approximate full Bayesian parameter estimation and predictive inference, (4) a service layer of high-level commands, I/O callbacks, and interrupts, and (5) interfaces integrating Stan's probability modeling, analysis and visualization capabilities into existing data science workflows in languages including R, Python, Julia, Stata, MATLAB, Mathematica and the command-line for cloud and cluster computing. The main goal of the refactoring is to achieve enough modularity in system components and documentation that developers will be able to concentrate on a single component, such as a new function, algorithm, or visualization, as well as to allow Stan to be used as a research tool for algorithm development. These goals complement the goals of documenting the language and interfaces in order to promote rigorous statistical methodology and reproducible computational workflows for applied scientists.</AbstractNarration>
<MinAmdLetterDate>05/16/2017</MinAmdLetterDate>
<MaxAmdLetterDate>05/16/2017</MaxAmdLetterDate>
<ARRAAmount/>
<TRAN_TYPE>Grant</TRAN_TYPE>
<CFDA_NUM>47.070</CFDA_NUM>
<NSF_PAR_USE_FLAG>1</NSF_PAR_USE_FLAG>
<FUND_AGCY_CODE>4900</FUND_AGCY_CODE>
<AWDG_AGCY_CODE>4900</AWDG_AGCY_CODE>
<AwardID>1730414</AwardID>
<Investigator>
<FirstName>Andrew</FirstName>
<LastName>Gelman</LastName>
<PI_MID_INIT>E</PI_MID_INIT>
<PI_SUFX_NAME/>
<PI_FULL_NAME>Andrew E Gelman</PI_FULL_NAME>
<EmailAddress>gelman@stat.columbia.edu</EmailAddress>
<PI_PHON>2128512142</PI_PHON>
<NSF_ID>000233702</NSF_ID>
<StartDate>05/16/2017</StartDate>
<EndDate/>
<RoleCode>Principal Investigator</RoleCode>
</Investigator>
<Investigator>
<FirstName>Bob</FirstName>
<LastName>Carpenter</LastName>
<PI_MID_INIT/>
<PI_SUFX_NAME/>
<PI_FULL_NAME>Bob Carpenter</PI_FULL_NAME>
<EmailAddress>rc2729@columbia.edu</EmailAddress>
<PI_PHON>2128512160</PI_PHON>
<NSF_ID>000141135</NSF_ID>
<StartDate>05/16/2017</StartDate>
<EndDate/>
<RoleCode>Co-Principal Investigator</RoleCode>
</Investigator>
<Investigator>
<FirstName>Michael</FirstName>
<LastName>Betancourt</LastName>
<PI_MID_INIT>J</PI_MID_INIT>
<PI_SUFX_NAME/>
<PI_FULL_NAME>Michael J Betancourt</PI_FULL_NAME>
<EmailAddress>mjb2287@columbia.edu</EmailAddress>
<PI_PHON>2128546851</PI_PHON>
<NSF_ID>000736118</NSF_ID>
<StartDate>05/16/2017</StartDate>
<EndDate/>
<RoleCode>Co-Principal Investigator</RoleCode>
</Investigator>
<Institution>
<Name>Columbia University</Name>
<CityName>NEW YORK</CityName>
<ZipCode>100276902</ZipCode>
<PhoneNumber>2128546851</PhoneNumber>
<StreetAddress>2960 Broadway</StreetAddress>
<StreetAddress2/>
<CountryName>United States</CountryName>
<StateName>New York</StateName>
<StateCode>NY</StateCode>
<CONGRESSDISTRICT>10</CONGRESSDISTRICT>
<CONGRESS_DISTRICT_ORG>NY10</CONGRESS_DISTRICT_ORG>
<ORG_DUNS_NUM>049179401</ORG_DUNS_NUM>
<ORG_LGL_BUS_NAME>TRUSTEES OF COLUMBIA UNIVERSITY IN THE CITY OF NEW YORK, THE</ORG_LGL_BUS_NAME>
<ORG_PRNT_DUNS_NUM>049179401</ORG_PRNT_DUNS_NUM>
</Institution>
<Performance_Institution>
<Name><![CDATA[Columbia University]]></Name>
<CityName/>
<StateCode>NY</StateCode>
<ZipCode>100277922</ZipCode>
<StreetAddress/>
<CountryCode>US</CountryCode>
<CountryName>United States</CountryName>
<StateName>New York</StateName>
<CountryFlag>1</CountryFlag>
<CONGRESSDISTRICT>13</CONGRESSDISTRICT>
<CONGRESS_DISTRICT_PERF>NY13</CONGRESS_DISTRICT_PERF>
</Performance_Institution>
<ProgramElement>
<Code>7359</Code>
<Text>CCRI-CISE Cmnty Rsrch Infrstrc</Text>
</ProgramElement>
<ProgramReference>
<Code>7359</Code>
<Text>COMPUTING RES INFRASTRUCTURE</Text>
</ProgramReference>
<Appropriation>
<Code>0117</Code>
<Name>NSF RESEARCH &amp; RELATED ACTIVIT</Name>
<APP_SYMB_ID>040100</APP_SYMB_ID>
</Appropriation>
<FUND_OBLG>2017~983932</FUND_OBLG>
<POR>
<DRECONTENT><![CDATA[<div class="porColContainerWBG"> <div class="porContentCol"><p><br /><br />Bayesian modeling enables scientists and engineers to reason about the world in ways unavailable with traditional statistics and machine learning techniques. The salient features of this approach include: 1) well motivated handling of uncertainty, 2) applicability to small/medium data sizes as well as large and 3) human interpretable models. While Bayesian modeling has been known about for centuries, the explosion in computer power now opens the door to fully exploring the potential of the approach. <br /><br />Stan v1.0 was released in 2012 and with the accompanying ecosystem of packages is a leading open source implementation of Bayesian modeling. To get an idea of Stan?s impact, we see nearly doubled citation counts per year since its release--totalling more than 3,300 citations over a broad range of topics.<br /><br />Intellectual Merit: <br /><br />This is an infrastructure proposal that focuses on sustainability of science/engineering assets and as such core research into Bayesian modeling is not the goal. Building better software is the goal which spans code design to governance. CI-Sustain funding started in summer 2017, 5 years into the effort which had accumulated enormous technical debt, had no real governance independent of the lab that created it and while massively successful, it needed an overhaul. The goal of the funding was to transform a scrappy, high performance suite of tools into a mature, sustainable, well engineered project ready to support future research in Bayesian methods as well as the research projects of our end users. The project has met or exceeded all objectives as detailed below.</p> <ul> <li><strong>Technical Debt</strong>: The technical debt at the beginning of CI-Sustain funding is effectively retired and in its place we have an overall better approach to maintaining our codebase. </li> <li><strong>Project maturation into reliable, well engineered software</strong>: Our developer base has grown considerably, currently more than 50 developers from approximately 15, which in itself is validation that we have a manageable architecture and process. This maturation comes with inevitable bureaucratic processes like extensively reviewed design documents and increased testing. </li> <li><strong>Codebase modularized to support future development</strong>: The Stanc3 compiler represents a particularly clear commitment to future development. The compiler is responsible for transpiling Stan code into C++ but the previous compiler contained much technical debt, shortcuts and could not be generalized to modern programming language optimization techniques. The code base was moved to OCaml from C++ which makes possible a broad range of compiler optimizations and opens the door to extensions like an interpreted version of Stan. Similar refactorings have occurred in the math library. </li> <li><strong>Ecosystem approach validation</strong>: A perhaps unintended consequence of the 11 software packages that constitute Columbia?s contribution to the Stan ecosystem is that a heterogeneous suite of closely interacting tools is a good way to package a great deal of capability without overburdening the core Stan software. If the capabilities of the posterior package (diagnostics for evaluating quality of fit) or Loo (cross validation software) were added to core Stan it would burden development considerably with additional complexity in maintenance, decision making and testing. Many of the ecosystem packages are single or small groups of authors and by keeping them independent they can innovate without burdening core Stan or needing the approval of the larger community. Much useful and creative happens on this model with worldwide contributions. </li> <li><strong>Longevity</strong>: Sustainability of the Stan ecosystem is both a technical objective and a cultural objective. The technical side requires management of technical debt, maturity and modularity as discussed above but we also have made significant strides in non-technical areas such as governance, funding and human resources discussed later in this report. The most significant event in support of longevity and sustainability is the fact that Stan is no longer a Columbia project with the establishment of a stand alone entity, the Stan Governing Body (SGB) under the fiscal sponsor NumFOCUS, a 503(c) non-profit for scientific software.</li> </ul> <p>Broader Impact:<br /><br />Compelling anecdotal evidence of Stan's impact are the 21 COVID-19 models under discussion on our forums, at least three of which inform public policy. Stan is the go-to software for modeling hierarchical models commonly used in epidemiology, pharmacology and population statistics and we take great satisfaction seeing it used in a time of worldwide need. <br /><br />Speaking more broadly, the attached chart shows annual counts of research articles that cite a Stan ecosystem package, the counts being classified by subject category. We believe the counts to be a lower bound (total 3,300 citations), a similar query on Google Scholar shows more than 8,000 articles. Much more important is to note the growth rate which appears to be nearly doubling each year. <br /><br />As a result of CI-Sustain funding, the Stan ecosystem now stands well prepared for its future. <br /><br /><br /></p><br> <p>            Last Modified: 11/27/2020<br>      Modified by: Andrew&nbsp;E&nbsp;Gelman</p> </div> <div class="porSideCol"> <div class="each-gallery"> <div class="galContent" id="gallery0"> <div class="photoCount" id="photoCount0">          Image         </div> <div class="galControls onePhoto" id="controls0"></div> <div class="galSlideshow" id="slideshow0"></div> <div class="galEmbox" id="embox"> <div class="image-title"></div> </div> </div> <div class="galNavigation onePhoto" id="navigation0"> <ul class="thumbs" id="thumbs0"> <li> <a href="/por/images/Reports/POR/2020/1730414/1730414_10488087_1606504749092_ScreenShot2020-11-27at1.13.01PM--rgov-214x142.jpg" original="/por/images/Reports/POR/2020/1730414/1730414_10488087_1606504749092_ScreenShot2020-11-27at1.13.01PM--rgov-800width.jpg" title="Annual Research Citations of Stan Ecosystem"><img src="/por/images/Reports/POR/2020/1730414/1730414_10488087_1606504749092_ScreenShot2020-11-27at1.13.01PM--rgov-66x44.jpg" alt="Annual Research Citations of Stan Ecosystem"></a> <div class="imageCaptionContainer"> <div class="imageCaption">Shown are annual counts of scopus.com (Elsevier) search results categorized by journal subject area. Totals indicated in the subject label. Note that categories are assigned at the journal level and that on average 6 categories apply to a given journal. There are 3,300 total citations.</div> <div class="imageCredit">Breck Baldwin</div> <div class="imageSubmitted">Andrew&nbsp;E&nbsp;Gelman</div> <div class="imageTitle">Annual Research Citations of Stan Ecosystem</div> </div> </li> </ul> </div> </div> </div> </div>]]></DRECONTENT>
<POR_COPY_TXT><![CDATA[   Bayesian modeling enables scientists and engineers to reason about the world in ways unavailable with traditional statistics and machine learning techniques. The salient features of this approach include: 1) well motivated handling of uncertainty, 2) applicability to small/medium data sizes as well as large and 3) human interpretable models. While Bayesian modeling has been known about for centuries, the explosion in computer power now opens the door to fully exploring the potential of the approach.   Stan v1.0 was released in 2012 and with the accompanying ecosystem of packages is a leading open source implementation of Bayesian modeling. To get an idea of Stan?s impact, we see nearly doubled citation counts per year since its release--totalling more than 3,300 citations over a broad range of topics.  Intellectual Merit:   This is an infrastructure proposal that focuses on sustainability of science/engineering assets and as such core research into Bayesian modeling is not the goal. Building better software is the goal which spans code design to governance. CI-Sustain funding started in summer 2017, 5 years into the effort which had accumulated enormous technical debt, had no real governance independent of the lab that created it and while massively successful, it needed an overhaul. The goal of the funding was to transform a scrappy, high performance suite of tools into a mature, sustainable, well engineered project ready to support future research in Bayesian methods as well as the research projects of our end users. The project has met or exceeded all objectives as detailed below.  Technical Debt: The technical debt at the beginning of CI-Sustain funding is effectively retired and in its place we have an overall better approach to maintaining our codebase.  Project maturation into reliable, well engineered software: Our developer base has grown considerably, currently more than 50 developers from approximately 15, which in itself is validation that we have a manageable architecture and process. This maturation comes with inevitable bureaucratic processes like extensively reviewed design documents and increased testing.  Codebase modularized to support future development: The Stanc3 compiler represents a particularly clear commitment to future development. The compiler is responsible for transpiling Stan code into C++ but the previous compiler contained much technical debt, shortcuts and could not be generalized to modern programming language optimization techniques. The code base was moved to OCaml from C++ which makes possible a broad range of compiler optimizations and opens the door to extensions like an interpreted version of Stan. Similar refactorings have occurred in the math library.  Ecosystem approach validation: A perhaps unintended consequence of the 11 software packages that constitute Columbia?s contribution to the Stan ecosystem is that a heterogeneous suite of closely interacting tools is a good way to package a great deal of capability without overburdening the core Stan software. If the capabilities of the posterior package (diagnostics for evaluating quality of fit) or Loo (cross validation software) were added to core Stan it would burden development considerably with additional complexity in maintenance, decision making and testing. Many of the ecosystem packages are single or small groups of authors and by keeping them independent they can innovate without burdening core Stan or needing the approval of the larger community. Much useful and creative happens on this model with worldwide contributions.  Longevity: Sustainability of the Stan ecosystem is both a technical objective and a cultural objective. The technical side requires management of technical debt, maturity and modularity as discussed above but we also have made significant strides in non-technical areas such as governance, funding and human resources discussed later in this report. The most significant event in support of longevity and sustainability is the fact that Stan is no longer a Columbia project with the establishment of a stand alone entity, the Stan Governing Body (SGB) under the fiscal sponsor NumFOCUS, a 503(c) non-profit for scientific software.   Broader Impact:  Compelling anecdotal evidence of Stan's impact are the 21 COVID-19 models under discussion on our forums, at least three of which inform public policy. Stan is the go-to software for modeling hierarchical models commonly used in epidemiology, pharmacology and population statistics and we take great satisfaction seeing it used in a time of worldwide need.   Speaking more broadly, the attached chart shows annual counts of research articles that cite a Stan ecosystem package, the counts being classified by subject category. We believe the counts to be a lower bound (total 3,300 citations), a similar query on Google Scholar shows more than 8,000 articles. Much more important is to note the growth rate which appears to be nearly doubling each year.   As a result of CI-Sustain funding, the Stan ecosystem now stands well prepared for its future.           Last Modified: 11/27/2020       Submitted by: Andrew E Gelman]]></POR_COPY_TXT>
</POR>
</Award>
</rootTag>
