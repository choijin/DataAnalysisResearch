<?xml version="1.0" encoding="UTF-8"?>
<rootTag>
<Award>
<AwardTitle>TC: Medium: Making OS Kernels Crash-Proof by Design and Certification</AwardTitle>
<AGENCY>NSF</AGENCY>
<AwardEffectiveDate>08/01/2011</AwardEffectiveDate>
<AwardExpirationDate>07/31/2016</AwardExpirationDate>
<AwardTotalIntnAmount>1116262.00</AwardTotalIntnAmount>
<AwardAmount>1116262</AwardAmount>
<AwardInstrument>
<Value>Standard Grant</Value>
</AwardInstrument>
<Organization>
<Code>05050000</Code>
<Directorate>
<Abbreviation>CSE</Abbreviation>
<LongName>Direct For Computer &amp; Info Scie &amp; Enginr</LongName>
</Directorate>
<Division>
<Abbreviation>CNS</Abbreviation>
<LongName>Division Of Computer and Network Systems</LongName>
</Division>
</Organization>
<ProgramOfficer>
<SignBlockName>Deborah Shands</SignBlockName>
<PO_EMAI/>
<PO_PHON/>
</ProgramOfficer>
<AbstractNarration>Operating System (OS) kernels form the bedrock of all system software---they can have the greatest impact on the resilience, security, and extensibility of today's computing hosts.  A single kernel bug can easily wreck the entire system's integrity and protection. The PIs are applying new advances in certified software to the design and development of novel kernel structures that generalize and unify traditional OS abstractions in microkernels, recursive virtual machines, and hypervisors.  By replacing the traditional "red line" (between the kernel and user code) with customized safety policies, the PIs show how to support different isolation and kernel extension mechanisms (e.g., type-safe languages, software-fault isolation, or address space protection) in a single framework. The PIs are also building a new framework for certified kernel programming and a set of domain-specific variants of C-like languages. They are applying them to certify different components at different abstraction layers (ranging from scheduler, virtual memory manager, file system, to information flow control), and then linking everything together to build end-to-end certified OS kernels. Certified kernels built under this project will offer safe and application-specific extensibility, provable security properties with information flow control, and accountability and recovery from hardware or application failures. They will help improve the reliability and security of many key components in the world's critical infrastructure, and advance human knowledge on what is possible in building trustworthy systems on top of a reliable core.</AbstractNarration>
<MinAmdLetterDate>08/09/2011</MinAmdLetterDate>
<MaxAmdLetterDate>11/12/2015</MaxAmdLetterDate>
<ARRAAmount/>
<TRAN_TYPE>Grant</TRAN_TYPE>
<CFDA_NUM>47.070</CFDA_NUM>
<NSF_PAR_USE_FLAG>0</NSF_PAR_USE_FLAG>
<FUND_AGCY_CODE>4900</FUND_AGCY_CODE>
<AWDG_AGCY_CODE>4900</AWDG_AGCY_CODE>
<AwardID>1065451</AwardID>
<Investigator>
<FirstName>Zhong</FirstName>
<LastName>Shao</LastName>
<PI_MID_INIT/>
<PI_SUFX_NAME/>
<PI_FULL_NAME>Zhong Shao</PI_FULL_NAME>
<EmailAddress>zhong.shao@yale.edu</EmailAddress>
<PI_PHON>2034326828</PI_PHON>
<NSF_ID>000201856</NSF_ID>
<StartDate>08/09/2011</StartDate>
<EndDate/>
<RoleCode>Principal Investigator</RoleCode>
</Investigator>
<Investigator>
<FirstName>Bryan</FirstName>
<LastName>Ford</LastName>
<PI_MID_INIT>A</PI_MID_INIT>
<PI_SUFX_NAME/>
<PI_FULL_NAME>Bryan A Ford</PI_FULL_NAME>
<EmailAddress>bryan.ford@yale.edu</EmailAddress>
<PI_PHON>2034321055</PI_PHON>
<NSF_ID>000518149</NSF_ID>
<StartDate>08/09/2011</StartDate>
<EndDate>11/12/2015</EndDate>
<RoleCode>Former Co-Principal Investigator</RoleCode>
</Investigator>
<Institution>
<Name>Yale University</Name>
<CityName>New Haven</CityName>
<ZipCode>065208327</ZipCode>
<PhoneNumber>2037854689</PhoneNumber>
<StreetAddress>Office of Sponsored Projects</StreetAddress>
<StreetAddress2><![CDATA[P.O. Box 208327]]></StreetAddress2>
<CountryName>United States</CountryName>
<StateName>Connecticut</StateName>
<StateCode>CT</StateCode>
<CONGRESSDISTRICT>03</CONGRESSDISTRICT>
<CONGRESS_DISTRICT_ORG>CT03</CONGRESS_DISTRICT_ORG>
<ORG_DUNS_NUM>043207562</ORG_DUNS_NUM>
<ORG_LGL_BUS_NAME>YALE UNIVERSITY</ORG_LGL_BUS_NAME>
<ORG_PRNT_DUNS_NUM>043207562</ORG_PRNT_DUNS_NUM>
</Institution>
<Performance_Institution>
<Name><![CDATA[Yale University]]></Name>
<CityName>New Haven</CityName>
<StateCode>CT</StateCode>
<ZipCode>065208327</ZipCode>
<StreetAddress><![CDATA[Office of Sponsored Projects]]></StreetAddress>
<CountryCode>US</CountryCode>
<CountryName>United States</CountryName>
<StateName>Connecticut</StateName>
<CountryFlag>1</CountryFlag>
<CONGRESSDISTRICT>03</CONGRESSDISTRICT>
<CONGRESS_DISTRICT_PERF>CT03</CONGRESS_DISTRICT_PERF>
</Performance_Institution>
<ProgramElement>
<Code>7795</Code>
<Text>TRUSTWORTHY COMPUTING</Text>
</ProgramElement>
<ProgramReference>
<Code>7795</Code>
<Text>TRUSTWORTHY COMPUTING</Text>
</ProgramReference>
<ProgramReference>
<Code>7924</Code>
<Text>MEDIUM PROJECT</Text>
</ProgramReference>
<Appropriation>
<Code>0111</Code>
<Name>NSF RESEARCH &amp; RELATED ACTIVIT</Name>
<APP_SYMB_ID>040100</APP_SYMB_ID>
</Appropriation>
<FUND_OBLG>2011~1116262</FUND_OBLG>
<POR>
<DRECONTENT><![CDATA[<div class="porColContainerWBG"> <div class="porContentCol"><p>Operating System (OS) kernels form the bedrock of all system software---they can have the greatest impact on the resilience, security, and extensibility of today's computing hosts (e.g., phones, workstations, clouds, self-driving cars, drones, IoTs) . &nbsp;A single kernel bug can easily wreck the entire system's integrity and protection. It is thus highly desirable to build hacker-proof OS kernels that strictly adhere to their formal functional specification under all circumstances.</p> <p><br />Building certifiably hacker-proof OS kernels is widely considered a grand challenge. Many people believe that the combination of concurrency and the OS kernels' functional complexity makes formal verification of functional correctness intractable, and even if it is possible, its cost would be prohibitive.</p> <p><br />Under this research grant, PI Shao and his team at Yale University have successfully made multiple breakthroughs showing that building hacker-proof operating systems is not only feasible but also practical.</p> <p><br />In their paper on Deep Specifications and Certified Abstraction Layers (appeared in the Proceedings of the 42nd ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages, POPL 2015), they developed a novel language-based account of certified abstraction layers and advocated abstraction over a particularly rich class of specification which they call deep specifications. They then developed new methodologies and tools for formally specifying, programming, verifying, and composing abstraction layers. Using these new languages and tools, they have successfully developed multiple certified sequential OS kernels in the Coq proof assistant, the most realistic of which consists of 37 abstraction layers, took less than one person year to develop, and can boot a version of Linux as a guest.</p> <p><br />In two other research papers (published in the Proceedings of 2016 ACM SIGPLAN Conference on Programming Language Design and Implementation, PLDI 2016), they showed that their layered compositional framework can be extended to support interruptible OS kernels and device drivers; they have also successfully developed a novel methodology for formally verifying end-to-end security of a software system that consists of both C and assembly programs. &nbsp;Using these new methodologies, they have successfully constructed an end-to-end security proof of their CertiKOS kernel (running on an extended x86 assembly machine model).</p> <p><br />In their latest paper (to be published in the Proceedings of 2016 USENIX Symposium on Operating Systems Design and Implementation, OSDI 2016), PI Shao and his team developed another highly novel compositional approach for building certified hacker-proof concurrent OS kernels. Concurrency allows interleaved execution of kernel/user modules across different layers of abstraction. Each such layer can have a different set of observable events. They insist on formally specifying these layers and their observable events, and then verifying each kernel module at its proper abstraction level. To support certified linking with other CPUs or threads, they prove a strong contextual refinement property for every kernel function, which states that the implementation of each such function will behave like its specification under any kernel/user context with any valid interleaving. They have successfully developed a practical concurrent OS kernel and verified its (contextual) functional correctness in Coq. Their certified kernel is written in 6500 lines of C and x86 assembly and runs on stock x86 multicore machines. This is the world's first proof of functional correctness of a complete, general-purpose concurrent OS kernel with fine-grained locking.</p> <p>On the education side, PI Shao has developed a new course on operating system design and implementation at Yale. This is a hard core kernel programming course, known notoriously for its extremely heavy programming load---as a result, normally less than 15 students took this course at Yale each year. PI Shao redesigned this course and used the multi-layered CertiKOS OS kernel as the programming labs. &nbsp;Because CertiKOS was constructed with an extremely clean specification and a set of well-organized abstraction layers; students get to focus on the OS related issues rather than be bogged down by low-level debugging. As a result, 44 students successfully finished the course in the fall term of 2015. The course received very good reviews. This project also helped train many research and teaching skills to a large number of post-doctoral research associates, graduate students, and undergraduate students at Yale.</p><br> <p>            Last Modified: 10/17/2016<br>      Modified by: Zhong&nbsp;Shao</p> </div> <div class="porSideCol"> <div class="each-gallery"> <div class="galContent" id="gallery0"> <div class="photoCount" id="photoCount0">          Images (<span id="selectedPhoto0">1</span> of <span class="totalNumber"></span>)           </div> <div class="galControls" id="controls0"></div> <div class="galSlideshow" id="slideshow0"></div> <div class="galEmbox" id="embox"> <div class="image-title"></div> </div> </div> <div class="galNavigation" id="navigation0"> <ul class="thumbs" id="thumbs0"> <li> <a href="/por/images/Reports/POR/2016/1065451/1065451_10119739_1476711661532_certikos1--rgov-214x142.jpg" original="/por/images/Reports/POR/2016/1065451/1065451_10119739_1476711661532_certikos1--rgov-800width.jpg" title="CertiKOS Methodologies"><img src="/por/images/Reports/POR/2016/1065451/1065451_10119739_1476711661532_certikos1--rgov-66x44.jpg" alt="CertiKOS Methodologies"></a> <div class="imageCaptionContainer"> <div class="imageCaption">The CertiKOS team developed a certified hacker-proof concurrent OS kernel by carefully decomposing the complex kernel into a stack of carefully designed certified abstraction layers. Each kernel module is formally specified in Coq and verified at its proper abstraction level.</div> <div class="imageCredit">Zhong Shao, Yale University</div> <div class="imagePermisssions">Copyrighted</div> <div class="imageSubmitted">Zhong&nbsp;Shao</div> <div class="imageTitle">CertiKOS Methodologies</div> </div> </li> <li> <a href="/por/images/Reports/POR/2016/1065451/1065451_10119739_1476711911963_certikos2--rgov-214x142.jpg" original="/por/images/Reports/POR/2016/1065451/1065451_10119739_1476711911963_certikos2--rgov-800width.jpg" title="Verifying the Page Fault Handler"><img src="/por/images/Reports/POR/2016/1065451/1065451_10119739_1476711911963_certikos2--rgov-66x44.jpg" alt="Verifying the Page Fault Handler"></a> <div class="imageCaptionContainer"> <div class="imageCaption">The page fault handler is verified in layers; its call graph includes all functions called both directly and indirectly. Circles indicate functions, solid arrows mean primitive invocations, and faint dashed lines are primitives that are translated by all the layers they pass through.</div> <div class="imageCredit">Zhong Shao, Yale University</div> <div class="imagePermisssions">Copyrighted</div> <div class="imageSubmitted">Zhong&nbsp;Shao</div> <div class="imageTitle">Verifying the Page Fault Handler</div> </div> </li> </ul> </div> </div> </div> </div>]]></DRECONTENT>
<POR_COPY_TXT><![CDATA[ Operating System (OS) kernels form the bedrock of all system software---they can have the greatest impact on the resilience, security, and extensibility of today's computing hosts (e.g., phones, workstations, clouds, self-driving cars, drones, IoTs) .  A single kernel bug can easily wreck the entire system's integrity and protection. It is thus highly desirable to build hacker-proof OS kernels that strictly adhere to their formal functional specification under all circumstances.   Building certifiably hacker-proof OS kernels is widely considered a grand challenge. Many people believe that the combination of concurrency and the OS kernels' functional complexity makes formal verification of functional correctness intractable, and even if it is possible, its cost would be prohibitive.   Under this research grant, PI Shao and his team at Yale University have successfully made multiple breakthroughs showing that building hacker-proof operating systems is not only feasible but also practical.   In their paper on Deep Specifications and Certified Abstraction Layers (appeared in the Proceedings of the 42nd ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages, POPL 2015), they developed a novel language-based account of certified abstraction layers and advocated abstraction over a particularly rich class of specification which they call deep specifications. They then developed new methodologies and tools for formally specifying, programming, verifying, and composing abstraction layers. Using these new languages and tools, they have successfully developed multiple certified sequential OS kernels in the Coq proof assistant, the most realistic of which consists of 37 abstraction layers, took less than one person year to develop, and can boot a version of Linux as a guest.   In two other research papers (published in the Proceedings of 2016 ACM SIGPLAN Conference on Programming Language Design and Implementation, PLDI 2016), they showed that their layered compositional framework can be extended to support interruptible OS kernels and device drivers; they have also successfully developed a novel methodology for formally verifying end-to-end security of a software system that consists of both C and assembly programs.  Using these new methodologies, they have successfully constructed an end-to-end security proof of their CertiKOS kernel (running on an extended x86 assembly machine model).   In their latest paper (to be published in the Proceedings of 2016 USENIX Symposium on Operating Systems Design and Implementation, OSDI 2016), PI Shao and his team developed another highly novel compositional approach for building certified hacker-proof concurrent OS kernels. Concurrency allows interleaved execution of kernel/user modules across different layers of abstraction. Each such layer can have a different set of observable events. They insist on formally specifying these layers and their observable events, and then verifying each kernel module at its proper abstraction level. To support certified linking with other CPUs or threads, they prove a strong contextual refinement property for every kernel function, which states that the implementation of each such function will behave like its specification under any kernel/user context with any valid interleaving. They have successfully developed a practical concurrent OS kernel and verified its (contextual) functional correctness in Coq. Their certified kernel is written in 6500 lines of C and x86 assembly and runs on stock x86 multicore machines. This is the world's first proof of functional correctness of a complete, general-purpose concurrent OS kernel with fine-grained locking.  On the education side, PI Shao has developed a new course on operating system design and implementation at Yale. This is a hard core kernel programming course, known notoriously for its extremely heavy programming load---as a result, normally less than 15 students took this course at Yale each year. PI Shao redesigned this course and used the multi-layered CertiKOS OS kernel as the programming labs.  Because CertiKOS was constructed with an extremely clean specification and a set of well-organized abstraction layers; students get to focus on the OS related issues rather than be bogged down by low-level debugging. As a result, 44 students successfully finished the course in the fall term of 2015. The course received very good reviews. This project also helped train many research and teaching skills to a large number of post-doctoral research associates, graduate students, and undergraduate students at Yale.       Last Modified: 10/17/2016       Submitted by: Zhong Shao]]></POR_COPY_TXT>
</POR>
</Award>
</rootTag>
